<%# locals: (player:, current_player:) %>

<div
  id="<%= dom_id(player) %>"
  class="<%= class_names(
    "d-flex align-items-center gap-2 py-1 px-2 rounded-end",
    "bg-primary bg-opacity-10": player == current_player
  ) %>"
  style="border-left: 5px solid <%= player.guesser? ? "#ffc107" : "transparent" %>;"
>
  <% if player == current_player || player.online? %>
    <i class="bi bi-circle-fill text-success" style="font-size: 0.5rem;"></i>
  <% else %>
    <i class="bi bi-circle-fill text-danger" style="font-size: 0.5rem;"></i>
  <% end %>

  <% if player.guesser? %>
    <i class="bi bi-star-fill text-warning"></i>
  <% elsif player.answered? %>
    <i class="bi bi-check-square-fill text-success"></i>
  <% else %>
    <i class="bi bi-square text-muted"></i>
  <% end %>
  <span class="flex-grow-1 <%= "fw-bold" if player == current_player %>"><%= player.name %></span>

  <% if player == current_player %>
    <%= link_to edit_loaded_questions_game_player_path(player.game_id),
        data: { turbo_frame: "round_frame" },
        class: "btn btn-sm btn-link text-muted p-0",
        title: "Edit name" do %>
      <i class="bi bi-pencil"></i>
    <% end %>
  <% end %>
  <span class="badge bg-secondary"><%= player.score %></span>
</div>
