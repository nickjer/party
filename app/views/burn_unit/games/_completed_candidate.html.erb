<%# locals: (candidate:) %>

<div class="list-group-item">
  <div class="d-flex justify-content-between align-items-center mb-2">
    <div class="d-flex align-items-center gap-2">
      <% if candidate.winner? %>
        <i class="bi bi-trophy-fill text-warning fs-5"></i>
      <% end %>
      <strong class="fs-5">
        <span data-player-name-id="<%= candidate.id %>"><%= candidate.name %></span>
      </strong>
    </div>
    <span class="badge bg-danger fs-6">
      <%= candidate.voters.size %>
      <%= candidate.voters.size == 1 ? "vote" : "votes" %>
    </span>
  </div>

  <% if candidate.voters.any? %>
    <div class="text-muted small">
      <i class="bi bi-people-fill me-1"></i>
      Votes from:
      <% candidate.voters.each_with_index do |voter, index| %>
        <% if index > 0 %>, <% end %><span data-player-name-id="<%= voter.id %>"><%= voter.name %></span>
      <% end %>
    </div>
  <% else %>
    <div class="text-muted small">
      <i class="bi bi-x-circle me-1"></i>
      No votes
    </div>
  <% end %>
</div>
