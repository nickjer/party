<%# locals: (game:, answer_form:) %>
<%= render "loaded_questions/games/question_card", question: game.question %>

<div data-controller="reveal" data-reveal-hidden-class="d-none">
  <button type="button" data-action="reveal#toggle" class="mt-3 w-100 btn btn-secondary">
    Show / Hide Answer
  </button>

  <%= turbo_frame_tag "answer_form_frame" do %>
    <div data-reveal-target="item" class="<%= "d-none" unless answer_form.show? %>">
      <%= form_with(
        model: answer_form,
        scope: :player,
        url: answer_loaded_questions_game_player_path(game.slug),
        method: :patch
      ) do |form| %>
        <%= form.text_area :answer,
          class: "mt-3 w-100",
          aria: { label: "Answer" },
          maxlength: LoadedQuestions::AnswerForm::MAX_LENGTH %>

        <%= form.submit "Submit Answer", class: "mt-3 w-100" %>
      <% end %>
    </div>
  <% end %>
</div>
